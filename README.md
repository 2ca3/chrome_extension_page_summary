# Page Summary - Webページ要約Chrome拡張機能

WebページのコンテンツをLLMで要約し、指定した行数で簡潔にまとめるChrome拡張機能です。

## 機能

- Webページの内容を自動で抽出して要約
- 要約行数を1〜100行の範囲で指定可能（デフォルト：10行）
- 複数のLLMプロバイダーに対応
  - OpenAI (GPT)
  - Anthropic (Claude)
  - Google (Gemini)
- 要約結果のコピー機能
- API接続テスト機能

## インストール方法

### 1. Chromeへの読み込み

1. Chromeで `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」を有効にする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. このディレクトリ（page_summary）を選択

## 使い方

### 初期設定

1. 拡張機能アイコンをクリック
2. 「設定」ボタンをクリック
3. 使用するLLMプロバイダーを選択
4. 該当するAPIキーを入力
   - OpenAI: https://platform.openai.com/api-keys
   - Claude: https://console.anthropic.com/
   - Gemini: https://aistudio.google.com/app/apikey
5. 必要に応じてモデルを選択
6. 「保存」をクリック
7. 「接続テスト」で設定を確認（推奨）

### ページの要約

1. 要約したいWebページを開く
2. 拡張機能アイコンをクリック
3. 要約行数を指定（オプション）
4. 「要約する」ボタンをクリック
5. 要約が表示されたら、必要に応じて「コピー」ボタンで内容をコピー

## プロジェクト構造

```
page_summary/
├── manifest.json           # 拡張機能のマニフェストファイル
├── background/
│   └── background.js      # バックグラウンドサービスワーカー（LLM API通信）
├── content/
│   └── content.js         # コンテンツスクリプト（ページ内容抽出）
├── popup/
│   ├── popup.html         # ポップアップUI
│   ├── popup.css          # ポップアップスタイル
│   └── popup.js           # ポップアップロジック
├── options/
│   ├── options.html       # 設定画面UI
│   ├── options.css        # 設定画面スタイル
│   └── options.js         # 設定画面ロジック
├── icons/
│   ├── icon16.png         # 16x16アイコン（要作成）
│   ├── icon48.png         # 48x48アイコン（要作成）
│   ├── icon128.png        # 128x128アイコン（要作成）
│   └── README.md          # アイコン作成ガイド
└── README.md              # このファイル
```

## 技術仕様

- Manifest Version: 3
- 必要な権限:
  - `activeTab`: アクティブなタブのコンテンツにアクセス
  - `storage`: 設定とAPIキーの保存
  - `scripting`: コンテンツスクリプトの実行

## APIキーについて

- APIキーはChrome拡張機能のストレージに保存されます
- セキュリティのため、APIキーは他のユーザーと共有しないでください
- 各LLMプロバイダーの利用規約を確認してください

## 制限事項

- 大きなページの場合、コンテンツが長すぎてAPI制限に達する可能性があります
- LLMプロバイダーのAPI利用料金が発生します
- インターネット接続が必要です

## トラブルシューティング

### 要約が失敗する場合

1. 設定画面でAPIキーが正しく入力されているか確認
2. 「接続テスト」を実行して接続を確認
3. ページに十分なテキストコンテンツがあるか確認
4. ブラウザのコンソールでエラーメッセージを確認

### アイコンが表示されない場合

1. `icons/` ディレクトリに必要なPNGファイルがあるか確認
2. 拡張機能を再読み込み

## ライセンス

このプロジェクトは個人利用を想定しています。商用利用する場合は、各LLMプロバイダーのライセンスを確認してください。

## 開発者向け情報

### デバッグ方法

1. `chrome://extensions/` でデベロッパーモードを有効化
2. 拡張機能の「詳細」をクリック
3. 「バックグラウンドページを検証」でバックグラウンドスクリプトのログを確認
4. ポップアップを右クリック→「検証」でポップアップのログを確認

### カスタマイズ

- プロンプトの変更: [background/background.js](background/background.js) の各API呼び出し関数を編集
- UIのカスタマイズ: CSSファイルを編集
- 新しいLLMプロバイダーの追加: background.jsに新しい関数を追加し、options.htmlとpopup.jsを更新

## 今後の改善案

- 要約履歴の保存機能
- エクスポート機能（PDF、Markdown等）
- カスタムプロンプトの設定
- 複数言語対応
- オフラインモード（ローカルLLM対応）
